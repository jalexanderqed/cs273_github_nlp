Hi,

i am using MongoDB with RocksDB as the storage engine. i want to compare the performance with or without block cache. For both case i disabled OS buffer and there's nocompression. when enable block cache, the size is 4GB. 
the workload is YCSB's workloada,load data is 24,000,000 1KB records. operation count is 48,000,000.  
distribution is uniform. 
i suppose it would be not much different between enable block cache and disable it, since cache size is much smaller than total loaded data, and the distribution is uniform, there's no locality. 
However, with block cache, the performance is much better (2.5X) than without block cache. By doing a little profiling, i found the benefits is coming from index locate path inside MongoDB. In MongoDB, RocksDB engine stores the index as a key-value, key is the indexed fields and value is the document id. For with block cache case, it seems this key-value which stores the index information is in memory. Considering the index data is a normal key-value as the actual document in RocksDB, how could RocksDB ping the index key-values in memory? 

Thanks
Sheng

