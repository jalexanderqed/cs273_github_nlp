Arcanist diff for review is here: https://reviews.facebook.net/D42873

