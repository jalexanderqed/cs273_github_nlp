I'm evaluating RocksDB for use as a persistent key-value store for a high-availability, fault-tolerant data structure with frequent random updates. I hope this is the right place for this kind of discussion.

Does RocksDB support recovery from power loss without explicit usage of backup API? Are all 'open' transactions undone? How long does it take to recover after such a failure? Does it depend on data size?
From my understanding of the online documentation, Snapshots are not persistent by nature, but I don't understand if this means they are not maintained over proper shutdown or whether they are concrete only in RAM (i.e., stored data has no version).
Can I separate all modifications done before and after the snapshot after a crash? can I recreate the snapshot upon recovery? does it depend on whether new writes occurred?

What are the assumptions on services provided by the file system and its recovery abilities? Can any 'journalled' file system be used? If RocksDB is the only 'user' of this file-system, what can I expect from it's recovery in terms of time to return to consistency (i.e., are most operations read-write or are there also frequent space allocations, file system defragmentation, etc.)?
are there any recommendations for a file system (and tuning parameters) for good performance and rapid recovery after failures?

Is there a sample 'recovery' log which you can post regarding such a recovery attempt (non-trivial, i.e., with pending writes and transactions) that shows what's being done and how long does each step take?

