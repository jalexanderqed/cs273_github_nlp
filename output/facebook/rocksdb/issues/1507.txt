This conditional should only open a new file that's dedicated to range deletions when it's the sole output of the subcompaction. Previously, we created such a file whenever the table builder was nullptr, which would've also been the case whenever the CompactionIterator's final key coincided with the final output table becoming full.

Test plan: https://gist.github.com/ajkr/efe3a1efe056df66c6aa287bfbb0a0a2 (please review my API diff so I can start including end-to-end tests together with the bugs they fix :))
@ajkr has imported this pull request.  If you are a Facebook employee, you can view this diff [on Phabricator](https://phabricator.intern.facebook.com/D4174613).

Not 100% understand.  Can I know which assertion in the test will fail without this fix?

the assert for non-overlapping-ness fails because we added the same range deletions twice, once to the files generated by the loop above, and then again to the file opened in this conditional. assertion is here: https://github.com/facebook/rocksdb/blob/master/db/version_set.cc#L1413

